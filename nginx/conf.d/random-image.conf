server {
    listen 80 default_server;
    server_name _;  # Catch all server name

    root /var/www/images;

    # Basic security headers
    add_header X-Content-Type-Options "nosniff";
    add_header X-Frame-Options "SAMEORIGIN";
    add_header X-XSS-Protection "1; mode=block";

    # Serve static files securely (for direct access only)
    location ~ \.(jpg|jpeg|png|gif)$ {
        # No caching for random image display
        add_header Cache-Control "no-cache, no-store, must-revalidate";
        add_header Pragma "no-cache";
        add_header Expires "0";
        try_files $uri =404;
    }
}